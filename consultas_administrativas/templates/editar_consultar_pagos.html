{% extends 'base_table.html' %}
{% load static %}

{% block contenido %}
{% block table_datatable %}

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

<style>
/* General styles */
.ui-autocomplete {
    z-index: 2050;
}

/* Flex layout for left and right sections */
.flex-container {
    display: flex;
    justify-content: space-between;
    gap: 20px;
    margin-top: 20px;
}

/* Buttons container */
.button-container {
    display: flex;
    justify-content: flex-end;
    margin-bottom: 20px;
    gap: 10px;
}

/* Button styles */
.button-container button {
    display: flex;
    align-items: center;
    gap: 5px;
    padding: 10px 15px;
    border: none;
    border-radius: 5px;
    color: white;
    font-weight: bold;
    cursor: pointer;
}

.button-container .btn-salir {
    background-color: #6c757d;
}

.button-container .btn-filtrar {
    background-color: #28a745;
}

.button-container .btn-modificar {
    background-color: #007bff;
}

.button-container .btn-grabar {
    background-color: #17a2b8;
}

.button-container .btn-anular {
    background-color: #ffc107;
    color: black;
}

.button-container .btn-cancelar {
    background-color: #dc3545;
}

/* Responsive design */
@media (max-width: 768px) {
    .flex-container {
        flex-direction: column;
    }
    .flex-item {
        margin-bottom: 20px;
    }
}
</style>
<link rel="stylesheet" type="text/css" href="{% static 'css/administracion/administracion.css'  %}">

<div class="button-container">
    <button type="button" class="btn-filtrar" onclick="abrir_modalFiltro()" id="btnFiltrar"><i class="fas fa-filter"></i> Filtrar</button>
    <button type="button" class="btn-modificar"><i class="fas fa-edit"></i> Modificar</button>
    <button type="button" class="btn-grabar"><i class="fas fa-save"></i> Grabar</button>
    <button type="button" class="btn-anular"><i class="fas fa-ban"></i> Anular</button>
    <button type="button" class="btn-cancelar"><i class="fas fa-times"></i> Cancelar</button>
</div>

<div>
    <form method="post" action="" id="">
        {% csrf_token %}
        <div class="flex-container">
            <!-- Sección izquierda -->
            <div class="flex-item" style="flex: 1;">
                <div class="flex-row">
                    <div class="form-group" style="flex: 1;">
                        {{ form.numero.label_tag }}
                        {{ form.numero }}
                    </div>
                    <div class="form-group" style="flex: 1;">
                        {{ form.moneda.label_tag }}
                        {{ form.moneda }}
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="form-check">
                            {{ form.buscar_ajuste_acr.label_tag }}
                            {{ form.buscar_ajuste_acr }}
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            {{ form.voucher.label_tag }}
                            {{ form.voucher }}
                        </div>
                    </div>
                </div>

                <div class="row mt-3">
                    <div class="col-md-6">
                        <div class="form-check">
                            {{ form.buscar_ajuste_dif.label_tag }}
                            {{ form.buscar_ajuste_dif }}
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            {{ form.alta_de.label_tag }}
                            {{ form.alta_de }}
                        </div>
                    </div>
                </div>

                <div class="row mt-3">
                    <div class="col-md-3">
                        <label for="proveedores">Proveedor:</label>
                        <input type="text" id="proveedores" class="form-control" name="proveedores" placeholder="Buscar proveedor" required>
                    </div>
                </div>

                <div class="flex-row">
                    <div class="form-group" style="flex: 1;">
                        {{ form.detalle.label_tag }}
                        {{ form.detalle }}
                    </div>
                </div>
            </div>

            <!-- Sección derecha -->
            <div class="flex-item" style="flex: 1;">
                <div class="flex-column">
                    <div class="form-group">
                        {{ form.fecha.label_tag }}
                        {{ form.fecha }}
                    </div>
                    <div class="form-group">
                        {{ form.documento.label_tag }}
                        {{ form.documento }}
                    </div>
                    <div class="form-group">
                        {{ form.arbitraje.label_tag }}
                        {{ form.arbitraje }}
                    </div>
                    <div class="form-group">
                        {{ form.importe.label_tag }}
                        {{ form.importe }}
                    </div>
                    <div class="form-group">
                        {{ form.por_imputar.label_tag }}
                        {{ form.por_imputar }}
                    </div>
                    <div class="form-group">
                        {{ form.paridad.label_tag }}
                        {{ form.paridad }}
                    </div>
                    <div class="form-group">
                        {{ form.autogenerado.label_tag }}
                        {{ form.autogenerado }}
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>

<br>

<div>
    <div class="form-group">
        {{ form.mov_efectivo.label_tag }}
        {{ form.mov_efectivo }}
    </div>

    <div>
        <table id="" class="table table-striped mt-4" style="display:none;">
            <thead>
                <th style="display:none;">Id</th>
                <th>Emisión</th>
                <th>Banco</th>
                <th>Número</th>
                <th>Moneda</th>
                <th>Total</th>
                <th>Vencimiento</th>
            </thead>
            <tbody></tbody>
        </table>
    </div>
    <div id="" style="display:none;">
        <div>
            <table id="docs_imputados" class="table table-striped mt-4">
                <thead>
                    <th style="display:none;">Id</th>
                    <th></th>
                    <th>Documento</th>
                    <th>Imputado</th>
                    <th>Moneda</th>
                    <th>Detalle</th>
                </thead>
                <tbody></tbody>
            </table>
        </div>
        <div class="form-group col-sm-3">
            <label for="dif_a">Diferencia a:</label>
            <input type="text" id="dif_a" class="form-control ">
        </div>
        <div class="mt-4" style="text-align: right">
            <button type="submit" id="" class="btn btn-primary">Eliminar imputaciones</button>
            <button type="submit" id="" class="btn btn-primary">Realizar imputaciones O/Pago</button>
        </div>
    </div>
</div>

<div id="filtroM" style="display:none;">
    <div class="card mt-4">
        <div class="card-body">
            <div class="d-flex align-items-center mb-3">
                <div class="form-check me-3">
                    <input type="checkbox" id="omitir_fechas" name="omitir_fechas" class="form-check-input">
                    <label class="form-check-label" for="omitir_fechas">Omitir Fechas</label>
                </div>
                <div class="form-group me-3 flex-grow-1">
                    <label for="desde">Desde</label>
                    <input type="date" id="desde" name="desde" class="form-control">
                </div>
                <div class="form-group flex-grow-1">
                    <label for="hasta">Hasta</label>
                    <input type="date" id="hasta" name="hasta" class="form-control">
                </div>
            </div>

            <div class="d-flex align-items-center mb-3">
                <div class="form-group me-3 flex-grow-1">
                    {{ form.moneda_f.label_tag }}
                    {{ form.moneda_f }}
                </div>
                <div class="form-group flex-grow-1">
                    <label for="monto">Monto</label>
                    <input type="number" id="monto" name="monto" class="form-control">
                </div>
            </div>

            <div class="form-group mb-3">
                <label for="proveedor">Proveedor</label>
                <input type="text" id="proveedor" name="proveedor" class="form-control">
            </div>

            <div class="form-group mb-3">
                <label for="detalle">Detalle</label>
                <input type="text" id="detalle" name="detalle" class="form-control">
            </div>

            <div class="d-flex align-items-center mb-3">
                <div class="form-group me-3 flex-grow-1">
                    <label for="voucher">Voucher</label>
                    <input type="text" id="voucher" name="voucher" class="form-control">
                </div>
                <div class="form-check me-3">
                    <input type="checkbox" id="tc_cero" name="tc_cero" class="form-check-input">
                    <label class="form-check-label" for="tc_cero">TC Cero</label>
                </div>
                <div class="form-group flex-grow-1">
                    <label for="cheque">Cheque</label>
                    <input type="text" id="cheque" name="cheque" class="form-control">
                </div>
            </div>

            <div class="d-flex align-items-center mb-3">
                <div class="form-group me-3 flex-grow-1">
                    <label for="mbl">M B/L</label>
                    <input type="text" id="mbl" name="mbl" class="form-control">
                </div>
                <div class="form-group me-3 flex-grow-1">
                    <label for="hbl">H B/L</label>
                    <input type="text" id="hbl" name="hbl" class="form-control">
                </div>
            </div>

            <div style=""> <!-- Es para marcar todos los resultados de la busqueda -->
                <div class="form-check">
                    <input type="checkbox" id="marcar_todos" name="marcar_todos" class="form-check-input">
                    <label class="form-check-label" for="marcar_todos">Marcar Todos</label>
                </div>
            </div>
        </div>
        <div style="display: none;">
            <table class="table table-striped mt-3">
               <thead>
                <th style="display:none;">Id</th>
                <th>Número</th>
                <th>Proveedor</th>
                <th>Fecha</th>
                <th>Moneda</th>
                <th>Detalle</th>
            </thead>
            <tbody></tbody>
            </table>
        </div>
    </div>
</div>


{% endblock table_datatable %}

{% block script_datatable %}


<script src="{% static 'js/jquery-ui.min_last.js' %}"></script>
<script src="{% static 'datatables/jquery.dataTables_last.min.js' %}"></script>
<link rel="stylesheet" href="{% static 'jquery-ui/jquery-ui_last.css' %}">
<script src="{% static 'grilla/editar_consultar_pagos.js' %}"></script>

{% endblock script_datatable %}
{% include 'arbitraje.html' %}

<script>
    var csrf_token = "{{ csrf_token }}";
</script>
{% endblock contenido %}
